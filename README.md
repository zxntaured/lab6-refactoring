# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 6: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ Code Smells

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–ù–∞—É—á–∏—Ç—å—Å—è –Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è.

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ

### 1. –î–ª–∏–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (Long Method)
–§—É–Ω–∫—Ü–∏—è `process_checkout` —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –±–æ–ª–µ–µ 50 —Å—Ç—Ä–æ–∫ –∏ –≤—ã–ø–æ–ª–Ω—è–ª–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á.

### 2. –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ (Magic Numbers)
- –°—Ç–∞–≤–∫–∞ –Ω–∞–ª–æ–≥–∞ `0.21` –±—ã–ª–∞ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞
- –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–∫–∏–¥–æ–∫ (`200`, `100`, `50`, `10`)

### 3. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)
–û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–≤–µ—á–∞–ª–∞ –∑–∞:
- –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—á–µ—Ç—ã (subtotal, discount, tax)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é order_id
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

### 4. –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É—Å–ª–æ–≤–∏–π
–í–ª–æ–∂–µ–Ω–Ω—ã–µ if/elif –±–ª–æ–∫–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å–∫–∏–¥–æ–∫ –±—ã–ª–æ —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

### 5. –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –ª–æ–≥–∏–∫–∞
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª–µ–π –≤ –∫–∞–∂–¥–æ–º —Ç–æ–≤–∞—Ä–µ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –≤ —Ü–∏–∫–ª–µ –±–µ–∑ –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.

## üõ† –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏

### 1. –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (Extract Function)
–†–∞–∑–±–∏–ª–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ, –∫–∞–∂–¥–∞—è —Å –æ–¥–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é:
- `parse_order_request()` - –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞
- `validate_order_data()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `validate_items()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- `calculate_subtotal()` - —Ä–∞—Å—á–µ—Ç —Å—É–º–º—ã
- `calculate_discount()` - —Ä–∞—Å—á–µ—Ç —Å–∫–∏–¥–∫–∏
- `calculate_tax()` - —Ä–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–∞
- `generate_order_id()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID –∑–∞–∫–∞–∑–∞
- `apply_discount()` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏

### 2. –ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
```python
TAX_RATE = 0.21
DEFAULT_CURRENCY = "USD"
MIN_PRICE = 0
MIN_QUANTITY = 0
